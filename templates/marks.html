{% extends "base.html" %}

{% block head %}
<link rel="stylesheet" type="text/css" href="{{ url_for('static', filename='css/lectures.css') }}">
{% endblock %}

{% block content %}
<div class="content-child">
    <div id="table-row">
        <div class="table-content">
            <h7>Student ID</h7>
        </div>
        <div class="table-content">
            <h7>Name</h7>
        </div>
        <div class="table-content">
            <h7>A1</h7>
        </div>
        <div class="table-content">
            <h7>A2</h7>
        </div>
        <div class="table-content">
            <h7>A3</h7>
        </div>
        <div class="table-content">
            <h7>Labs</h7>
        </div>
        <div class="table-content">
            <h7>Midterm</h7>
        </div>
        <div class="table-content">
            <h7>Final</h7>
        </div>
    </div>
    <!-- if student-->
    {% if is_student == true %}
    <div id="table-row">
        <div class="table-content">
            <h7> {{ student_info['SID']}} </h7>
        </div>
        <div class="table-content">
            <h7> {{ student_info['Name']}} </h7>
        </div>
        <div class="table-content">
            <h7> {{ student_info['A1']}} </h7>
        </div>
        <div class="table-content">
            <h7> {{ student_info['A2']}} </h7>
        </div>
        <div class="table-content">
            <h7> {{ student_info['A3']}} </h7>
        </div>
        <div class="table-content">
            <h7> {{ student_info['Labs']}} </h7>
        </div>
        <div class="table-content">
            <h7> {{ student_info['Midterm']}} </h7>
        </div>
        <div class="table-content">
            <h7> {{ student_info['Final']}} </h7>
        </div>
    </div>
    {% else %}
    {% for key, student in all_students.items() %}
        <div id="table-row">
            <div class="table-content">
                <a href="{{ url_for('edit_marks', student_id=key) }}"><h7> {{ student['SID']}} </h7></a>
            </div>
            <div class="table-content">
                <h7> {{ student['Name']}} </h7>
            </div>
            <div class="table-content">
                <h7> {{ student['A1']}} </h7>
            </div>
            <div class="table-content">
                <h7> {{ student['A2']}} </h7>
            </div>
            <div class="table-content">
                <h7> {{ student['A3']}} </h7>
            </div>
            <div class="table-content">
                <h7> {{ student['Labs']}} </h7>
            </div>
            <div class="table-content">
                <h7> {{ student['Midterm']}} </h7>
            </div>
            <div class="table-content">
                <h7> {{ student['Final']}} </h7>
            </div>
        </div>
    {% endfor %}
    {% endif %}
    </div>
</div>

<div class="content-child" style="overflow: auto;">
{% if is_student == true %}
    <h2 class="content-title">Submit a Remark Request Here</h2>
    <form id="feedback-form" method="POST" action="/marks">
    <label for="remark">What do you want remarked?</label>
    <select id="visitor-category" name="remark">
        <option value="a1">Assignment 1</option>
        <option value="a2">Assignment 2</option>
        <option value="a3">Assignment 3</option>
        <option value="midterm">Midterm</option>
        <option value="other">Other</option>
    </select>
    <label for="comments">Explanation</label>
    <input type="text "id="comments" name="comments" placeholder="Why would you like a remark?" name="explanation" required>
    <input id="form-button" type="submit" value="Submit">
    <input id="form-button" type="button" onclick="clear_form('feedback-form')" value="Clear">
    </form>
    <script src="{{ url_for('static', filename='scripts/clear.js') }}"></script>
{% else %}
    <h2 class="content-title">Here are the remark requests submitted by students:</h2>
    {% for key, remark in all_remarks.items() %}
    <div class="student-request">
        <h7 class="content-title">Remark Request for {{ remark['remark'] }} by {{ remark['request_user'] }} <br></h7>
        <h7>Reason: {{ remark['explanation'] }} <br></h7>
        <h7>Request ID: {{ remark['request_id'] }} <br></h7>
    </div>
    {% endfor %}
{% endif %}
</div>
{% endblock %}
